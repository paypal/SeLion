<div class="selion-content-div">
  <h1 class="page-header">PageYAML</h1>

  <p class="lead">YAML files in SeLion are are used to abstract away all of the locator/selector information,
    the location strategy to be used to identify an element, localization concerns, and help keep test code clean.
    We call these files <i>PageYAML</i> because when they are processed by <a href="#what-is-code-generator">SeLion's Code Generator</a>,
    a corresponding Page Object in the form of a Java class is created and added to your project source.</p>

  <p>These files map to an individual web page and consist of:</p>
  <ul>
    <li> The Java class from which the newly generated page should extend itself from.
    <li> The title of the page
    <li> The set of elements, the means of locating them (location strategy), and the actual locators
      themselves.
    <li>Locale specific considerations for localized content.</li>
    <li> A set of validations to perform on the page once it is loaded as a result of a load
      operation -- usually from a previous <code>click()</code> operation.
  </ul>

  <p class="alert-info"><b>Note:</b> Although YAML is used for both, PageYAML files differ from those used by
    <a href="#yaml-data-provider">SeLion's YAML DataProvider</a></p>

  <h2>PageYAML Contents</h2>

  <p>A PageYAML file that represents a web page is made up of the following parts:</p>
  <ul>
    <li><code>baseClass</code> - The value for this key represents the fully qualified package name of a class that will
      serve as the base class to inherit attributes and/or capabilities from. If your page is new and is not
      customizing an existing page (for example, a login page which extends a header page ), then you
      should specify the value <code>com.paypal.selion.testcomponents.BasicPageImpl</code> which
      by default is the class within SeLion that provides all the basic operations that are required for any given web page,
      including instantiation logic.
    </li>
    <li><code>pageTitle</code> - The value for this key is a set of key/value pairs where you define
      the different page titles that exist for the page. Titles can be specified for different locales.
    </li>
    <li><code>elements</code> - The value for this key is a set of key/value pairs that represent html elements in a page.
    </li>
    <ul>
      <li> The name to be given to identifying the locator/selector. This name would end up serving as the data member in the
        generated class and maps to the html element specified. The rules for naming locators/selectors are as follows:
        <ul>
          <li> <var>&lt;prefix&gt;</var>Button Is a Button html element.
          <li> <var>&lt;prefix&gt;</var>CheckBox Is a Check Box html element.
          <li> <var>&lt;prefix&gt;</var>DatePicker Is a Date Picker html element.
          <li> <var>&lt;prefix&gt;</var>Form Is a Form html element.
          <li> <var>&lt;prefix&gt;</var>Image Is a Image html element.
          <li> <var>&lt;prefix&gt;</var>Label Is a Label html element.
          <li> <var>&lt;prefix&gt;</var>Link Is a Link html element.
          <li> <var>&lt;prefix&gt;</var>RadioButton Is a Radio Button html element.
          <li> <var>&lt;prefix&gt;</var>List Is a Select List html element.
          <li> <var>&lt;prefix&gt;</var>Table Is a Table html element.
          <li> <var>&lt;prefix&gt;</var>TextField Is a Text Field html element.
          <li> <var>&lt;prefix&gt;</var>Container Is a Container html element.
        </ul>
        <p>Here <strong><var>prefix</var></strong> is a meaningful name that you
          would give to your element, mapping it to the html element on
          the page.</p></li>
      <li><code>locators:</code> - This key represents the set of values that map to the element name.</li>
      <li><b>Localized locator</b> - Values for the locators/selectors which are comprised of a key/value pairs -- the
        locale the html element will exist in and the actual locator/selector to find the html element by.
        For example; <code>US: "//div[@id='apiOption1']/p[3]/a"</code>. This equates to -- For the US version of the page,
        there should exist an <code>&lt;a&gt;</code> element that is positioned within the third <code>&lt;p&gt;</code>
        of the <code>&lt;div&gt;</code> with the id <code>apiOption1</code> on the page this file represents. Locators can
        be separated by the <code>|</code> character to indicate an OR condition.
      </li>
    </ul>
    <li><code>pageValidators:</code> - A list of validations to perform when a page is loaded. The validations are used to
      confirm the test has landed on a page that at least in part looks like the page expected. If the page loaded fails
      these validations, an exception occurs. Valid validations which can be performed are;
      <ul>
        <li><code>isPresent</code> - Fails if the element is not present. This is the default validation that is run on
          an element if nothing is specified.</li>
        <li><code>isVisible</code> - Fails if the element is not visible.</li>
        <li><code>isEnabled</code> - Fails if the element is not enabled.</li>
      </ul>
      If you do not wish to include any validators, you can leave it empty <code>[]</code></li>
    </li>
    <li><code>defaultLocale:</code> - The default locale to use if the PageYAML does not explicitly define a locale specific
      value. For example; A value of <code>US</code> will require US definitions in the PageYAML but if a test is currently
      running against the German version of a site and the <code>DE</code> definition does not exist for the queried
      attribute, then the US version will be used.
    </li>
    </ul>

  <h2>An Example PageYaml File</h2>
  <pre data-src="../sample-files/yamlpage-sample1.yaml" class="language-markup"></pre>
  <p>Some important things to reiterate and note from this example:</p>
  <ul>
    <li>Notice how all the elements end with type of the element that we already mentioned.</li>
    <li>For example, if we consider <code>addOrEditAPIPermissionsLink</code> you will notice that we are giving a
      meaningful name to this link i.e., this is the link that is representing a href on the page which is going to add
      or edit api permissions.
    </li>
    <li>The keys <code>US</code>, <code>FR</code> represents the locales. This is how we create YAML pages for pages
      that involve localization.
    </li>
    <li>For the element <code>requestAPICredentialsLink</code> the locator <code>"//a[contains(@href,
      'cmd=_profile-api-add-direct-access')]|//a[contains(@href, 'cmd=%5fprofile%2dapi%2dadd%2ddirect%2daccess')]</code>
      has a <b>|</b> (pipe symbol) in it. Pipe symbols are used in SeLion to signify an <b>OR</b> operator
      which means that this particular link can either be found using the xpath <code>//a[contains(@href,
        'cmd=_profile-api-add-direct-access')]</code> <b>or</b> using the xpath <code>//a[contains(@href,
        'cmd=%5fprofile%2dapi%2dadd%2ddirect%2daccess')]</code></li>
    <li>Notice that only for the element <code>requestAPICredentialsLink</code> we are having locators for 2 locales
      viz., <b>US</b> and <b>FR</b>. This is another salient feature of SeLion. For specific elements alone you can have
      locators defined for specific locales. So for the same locale say <b>FR</b> since the element <code>viewAPICertificateLink</code>
      doesn't have a locator for <b>FR</b> SeLion will default to using the locator specified for the locale <b>US</b>
      while working with the country <b>FR</b>.
    </li>
    <li>The element <code>pageValidators</code> contain the list of elements that are supposed to be
      validated when your test performs a <code>click(Object..)</code> (or) <code>clickAndExpectOneOf(Object..)</code>
      operation on a page. So from our above example, SeLion checks if the element represented by
      <code>grantAPIPermissionLink</code> is <code>visible</code> because we explicitly requested for that validation.
      It would also check if the element represented by <code>viewAPISignatureLink</code> is <b>present</b> or not.
    <li>We also have a special kind of an element called <code>headerContainer</code>. To read more about Container
      elements please take a look at the section -- <a href="#containers">PageYAML and Container Elements</a>.
    </li>
  </ul>

  <h2>How to use custom elements in your page yaml.</h2>
  <p>Please make sure that you register your custom elements as described in the <a href="#what-is-code-generator">SeLion's Code Generator</a> documentation. Once done you can use your custom elements, just like the elements that are provided by SeLion. Let's say we registered a custom element named <code>com.paypal.test.CustomButton</code>, to SeLion's code generator.</p>

  <p>We can then use the following Yaml to generate a page object which makes use of our CustomButton.</p>
  <pre data-src="../sample-files/yamlpage-sample2.yaml" class="language-markup"></pre>
  <p>The element will then be accesible through a getter method, in the generated page object.</p>
</div>

<script src="../js/prismjs-min.js"></script>
